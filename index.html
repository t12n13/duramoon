<!doctype html>
<!-- Version 1.0.0: 初期公開（フォロー機能のみ） -->
<!-- Version 2.10 : プロフィールモーダルに「一言」追加、タブ機能、ギャラリー対応 -->
<!-- Version 2.11 : フォロータブ切替時にカードが表示されない不具合を修正 -->
<!-- Version 2.12 : ドゥラ・ムーン公式の写真URL拡張子を.jpgに変更 -->
<!-- Version 2.13 : メンバー順整理・チェキタグ追加・枠線をメンバーカラーに -->
<!-- Version 2.14 : チェキタグにコピー機能を追加 -->
<!-- Version 2.15 : 指定メンバーのチェキタグをグローバルでコピーできるUIとURL指定に対応 -->
<!-- Version 2.16 : 公式メンバーの枠線を黒に変更 -->
<!-- Version 2.17 : 背景画像を追加（デザイン準備） -->
<!-- Version 2.18 : 背景画像を固定で適用（透過なし）、カードに軽い影 -->
<!-- Version 2.19 : プロフィールモーダルに「✖」ボタンを追加 -->
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dura-Moon Fan Hub｜公式まとめ</title>
<style>
  :root{ --fg:#111; --muted:#6b7280; --bg:#fafafa; --card:#fff; --line:#e5e7eb }
  *{box-sizing:border-box}
  body{
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    color:var(--fg);
    margin:0;
    background: url('image/bg.png') no-repeat center center fixed;
    background-size: cover;
  }
  .wrap{max-width:1000px; margin:0 auto; padding:20px}
  .version{position:fixed; top:6px; left:10px; font-size:.8rem; color:var(--muted); z-index:1000}
  header{display:flex; align-items:center; justify-content:space-between; gap:12px; margin:6px 0 18px}
  header h1{font-size:1.25rem; margin:0}
  .tools{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
  .tools select{padding:6px 8px; border:1px solid var(--line); border-radius:8px; background:#fff}
  .tools button{padding:6px 10px; border:1px solid var(--line); border-radius:8px; background:#fff; cursor:pointer; font-size:.9rem}
  .grid{display:grid; grid-template-columns: repeat(1, minmax(0,1fr)); gap:14px}
  @media(min-width:700px){ .grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
  @media(min-width:1024px){ .grid{ grid-template-columns: repeat(3, minmax(0,1fr)); } }
  .card{
    background:#fff;
    border:2px solid var(--accent, var(--line));
    border-radius:14px;
    padding:14px;
    box-shadow:0 4px 10px rgba(0,0,0,0.10);
    transition: transform .06s ease, box-shadow .2s ease;
  }
  .card:hover{
    transform:translateY(-2px);
    box-shadow:0 10px 24px rgba(0,0,0,0.16);
  }
  .head{display:flex; align-items:center; gap:12px; margin-bottom:10px; cursor:pointer}
  .avatar{width:72px; height:72px; border-radius:50%; object-fit:cover; border:2px solid var(--accent, var(--line)); background:#ddd}
  .names{display:flex; flex-direction:column}
  .names .display{font-weight:700}
  .names .handle{color:var(--muted); font-size:.9rem}
  .cheki{font-size:.82rem; margin-top:2px}
  .cheki a{color:#0369a1; text-decoration:underline}
  .btns{display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:8px}
  .btn{display:flex; align-items:center; justify-content:center; gap:10px; padding:12px 10px; border-radius:12px; border:1px solid var(--line); text-decoration:none; color:var(--fg); background:#fff; font-weight:600}
  .btn svg{width:18px; height:18px}
  .btn:hover{filter:brightness(0.98)}
  .bar{display:flex; align-items:center; justify-content:space-between; margin-bottom:10px}
  .bar .openall{font-size:.9rem; color:#0369a1; text-decoration:underline; background:none; border:none; padding:6px 4px; cursor:pointer}
  .tag{font-size:.78rem; color:var(--muted)}
  footer{color:var(--muted); font-size:.86rem; margin:22px 6px}
  /* モーダル */
  .overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);z-index:999}
  .modal{position:fixed;top:0;left:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;z-index:1000}
  .modal .card{position:relative;max-width:400px;width:90%;margin:auto}
  .modal .close-btn{position:absolute;top:8px;right:10px;border:none;background:transparent;font-size:1.4rem;cursor:pointer}
</style>
<script>
const MEMBERS = [
  { display:"ドゥラ・ムーン公式", aka:"公式", color:"#000000", avatar:"image/duramoon.jpg?v=2", cheki:"#ドゥラムーン", x:"Duramoon__info", ig:"duramoon__info", tiktok:"duramoon_idol" },
  { display:"御伽 望愛", aka:"おとぎ のあ", color:"#ec4899", avatar:"image/noa.jpg", tagline:"『約束の地で未来永劫の日々を』", cheki:"#見てるよのあち", x:"noa__dura", ig:"_1984180", tiktok:"n0q1_o14" },
  { display:"終宵 ねお", aka:"おしまい ねお", color:"#ef4444", avatar:"image/neo.jpg", tagline:"『狂うほど愛し合おう、この生き地獄で』", cheki:"#終宵ﾉ世界ﾃﾞ共依存", x:"neo__dura", ig:"ponkotsuneotaro_", tiktok:"ponkotsuneotaro" },
  { display:"琥珀 トワ", aka:"こはく とわ", color:"#f59e0b", avatar:"image/towa.jpg", tagline:"『貴方の世界に、永遠の夢毒をあげる♥』", cheki:"#永遠威艶狼卍會", x:"towa__dura", ig:"15milk01c", tiktok:"tow4_nyan" },
  { display:"死喰 ちる", aka:"しくい ちる", color:"#9ca3af", avatar:"image/chill.jpg", tagline:"『永遠に離さない、愛も憎しみも全部私のもの』", cheki:"#ちると堕ちる", x:"chill__dura", ig:"xx_nyqn2_xx", tiktok:"xx_nyan2_xx" },
  { display:"髏黯 メア", aka:"ろあん めあ", color:"#8b5cf6", avatar:"image/mea.jpg", tagline:"『貴方の瞳の中で踊らせて』", cheki:"#メアの瞳の中", x:"mea__dura", ig:"roamea_", tiktok:"roamea_" },
];

function render(){
  const $grid=document.querySelector('.grid');
  $grid.innerHTML='';
  MEMBERS.forEach((m,idx)=>{
    const card=document.createElement('div');
    card.className='card';
    card.style.setProperty('--accent', m.color);

    const bar=document.createElement('div');
    bar.className='bar';
    const tag=document.createElement('div'); tag.className='tag'; tag.textContent=`#${String(idx+1).padStart(2,'0')}`;
    const openall=document.createElement('button'); openall.className='openall'; openall.textContent='このメンバーのリンクを一括で開く';
    openall.onclick=()=>{ openAllLinks(m); };
    bar.appendChild(tag); bar.appendChild(openall);

    const head=document.createElement('div');
    head.className='head';
    head.onclick=()=>openProfile(m);
    const av=document.createElement('img'); av.className='avatar'; av.src=m.avatar; av.alt=m.display;
    const names=document.createElement('div'); names.className='names';
    const d=document.createElement('div'); d.className='display'; d.textContent=m.display;
    const h=document.createElement('div'); h.className='handle'; h.textContent=m.aka?`@${m.aka}`:'';
    names.appendChild(d); names.appendChild(h);
    head.appendChild(av); head.appendChild(names);

    const btns=document.createElement('div'); btns.className='btns';
    buildLinks(m).forEach(lnk=>{
      const a=document.createElement('a'); a.className='btn'; a.href=lnk.href; a.onclick=(e)=>{e.preventDefault(); lnk.open(e);};
      a.innerHTML=icon(lnk.key)+'<span>'+lnk.label+'</span>'; btns.appendChild(a);
    });

    const cheki=document.createElement('div'); cheki.className='cheki';
    if(m.cheki){
      const a=document.createElement('a'); a.href=`https://x.com/hashtag/${encodeURIComponent(m.cheki.replace(/^#/,""))}`; a.target='_blank'; a.textContent=m.cheki;
      const copy=document.createElement('button'); copy.textContent='コピー'; copy.style.marginLeft='8px'; copy.onclick=()=>{navigator.clipboard.writeText(m.cheki).then(()=>{copy.textContent='✔';setTimeout(()=>copy.textContent='コピー',1500);});};
      cheki.appendChild(a); cheki.appendChild(copy);
    }

    card.appendChild(bar); card.appendChild(head); card.appendChild(btns); card.appendChild(cheki);
    $grid.appendChild(card);
  });
}

function buildLinks(m){
  const arr=[];
  if(m.x){ arr.push({key:'x',label:'X',href:`https://twitter.com/${m.x}`,open:(e)=>window.open(`https://twitter.com/${m.x}`,'_blank')}); }
  if(m.ig){ arr.push({key:'ig',label:'Instagram',href:`https://www.instagram.com/${m.ig}/`,open:(e)=>window.open(`https://www.instagram.com/${m.ig}/`,'_blank')}); }
  if(m.tiktok){ arr.push({key:'tt',label:'TikTok',href:`https://www.tiktok.com/@${m.tiktok}`,open:(e)=>window.open(`https://www.tiktok.com/@${m.tiktok}`,'_blank')}); }
  return arr;
}
function icon(key){
  const svgs={
    x:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4l16 16M20 4L4 20"/></svg>',
    ig:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><circle cx="17.5" cy="6.5" r="1.5"/></svg>',
    tt:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3v6a5 5 0 1 1-5 5"/><path d="M15 3c1.5 2 3.5 3 6 3"/></svg>',
  }; return svgs[key]||'';
}
function openAllLinks(m){ buildLinks(m).forEach(lnk=>window.open(lnk.href,'_blank')); }

function openProfile(m){
  const overlay=document.createElement('div'); overlay.className='overlay';
  const modal=document.createElement('div'); modal.className='modal';
  const card=document.createElement('div'); card.className='card'; card.style.setProperty('--accent',m.color);

  const closeBtn=document.createElement('button'); closeBtn.className='close-btn'; closeBtn.innerHTML='✖'; closeBtn.onclick=closeModal;
  card.appendChild(closeBtn);

  const head=document.createElement('div'); head.className='head';
  const av=document.createElement('img'); av.className='avatar'; av.src=m.avatar;
  const names=document.createElement('div'); names.className='names';
  const d=document.createElement('div'); d.className='display'; d.textContent=m.display;
  const h=document.createElement('div'); h.className='handle'; h.textContent=m.aka?`@${m.aka}`:'';
  names.appendChild(d); names.appendChild(h);
  head.appendChild(av); head.appendChild(names);

  card.appendChild(head);

  if(m.tagline){ const tg=document.createElement('div'); tg.style.marginTop='8px'; tg.textContent=m.tagline; card.appendChild(tg); }
  if(m.cheki){
    const ck=document.createElement('div'); ck.style.marginTop='8px';
    const a=document.createElement('a'); a.href=`https://x.com/hashtag/${encodeURIComponent(m.cheki.replace(/^#/,""))}`; a.target='_blank'; a.textContent=m.cheki;
    const copy=document.createElement('button'); copy.textContent='コピー'; copy.style.marginLeft='8px'; copy.onclick=()=>{navigator.clipboard.writeText(m.cheki).then(()=>{copy.textContent='✔';setTimeout(()=>copy.textContent='コピー',1500);});};
    ck.appendChild(a); ck.appendChild(copy); card.appendChild(ck);
  }

  modal.appendChild(card); document.body.appendChild(overlay); document.body.appendChild(modal);
  modal.style.display='flex'; overlay.onclick=closeModal;
  document.addEventListener('keydown', escClose);

  function escClose(e){ if(e.key==='Escape') closeModal(); }
  function closeModal(){ modal.remove(); overlay.remove(); document.removeEventListener('keydown', escClose); }
}

document.addEventListener('DOMContentLoaded', render);
</script>
</head>
<body>
  <div class="version">Version 2.19</div>
  <div class="wrap">
    <header>
      <h1>Dura-Moon 公式SNSまとめ（メンバー別）</h1>
      <div class="tools">
        <label for="chekiPicker" style="font-size:.88rem;color:var(--muted)">🔖 指定メンバーのチェキタグ:</label>
        <select id="chekiPicker"></select>
        <button id="chekiCopy">コピー</button>
      </div>
    </header>
    <div class="grid"><!-- JSでカードを描画 --></div>
    <footer>
      ※ 一部SNSは自動フォローを許可していないため、確認画面が表示されます。<br>
      ※ 「このメンバーのリンクを一括で開く」はブラウザのポップアップ制限に影響される場合があります。
    </footer>
  </div>
</body>
</html>


