<!doctype html>
<!-- Version 2.22 : 選択したタグを改行区切りでコピーできるように変更 -->
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dura-Moon Fan Hub｜公式まとめ</title>
<style>
  :root{ --fg:#111; --muted:#6b7280; --bg:#fafafa; --card:#fff; --line:#e5e7eb }
  *{box-sizing:border-box}
  body{
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    margin:0; color:var(--fg);
    background: url('image/bg.png') no-repeat center center fixed;
    background-size: cover;
  }
  .wrap{max-width:1000px; margin:0 auto; padding:20px}
  .version{position:fixed; top:6px; left:10px; font-size:.8rem; color:var(--muted); z-index:1000}
  header{margin-bottom:20px}
  header h1{font-size:1.3rem; margin:0 0 10px}
  nav{display:flex; gap:12px; margin-bottom:20px}
  nav button{padding:6px 12px; border:1px solid var(--line); border-radius:8px; background:#fff; cursor:pointer}
  nav button.active{background:#111; color:#fff; border-color:#111}
  .grid{display:grid; gap:14px}
  @media(min-width:700px){ .grid{ grid-template-columns: repeat(2,minmax(0,1fr)); } }
  @media(min-width:1024px){ .grid{ grid-template-columns: repeat(3,minmax(0,1fr)); } }
  .card{background:#fff; border:2px solid var(--accent,var(--line)); border-radius:14px; padding:14px; box-shadow:0 4px 10px rgba(0,0,0,0.1)}
  .head{display:flex; align-items:center; gap:12px; margin-bottom:10px}
  .avatar{width:64px; height:64px; border-radius:50%; border:2px solid var(--accent,var(--line)); object-fit:cover}
  .names{display:flex; flex-direction:column}
  .names .display{font-weight:600}
  .names .handle{font-size:.9rem; color:var(--muted)}
  .cheki a{color:#0369a1; text-decoration:underline}
  .cheki button{margin-left:6px}
  footer{margin-top:20px; font-size:.85rem; color:var(--muted)}
  /* タグまとめ */
  .tag-list{display:grid; gap:8px}
  .tag-item{background:#fff; padding:10px; border:1px solid var(--line); border-radius:8px; display:flex; justify-content:space-between; align-items:center}
  .tools-row{display:flex; gap:8px; flex-wrap:wrap; margin-bottom:10px}
  .tools-row button{padding:6px 10px; border:1px solid var(--line); border-radius:8px; background:#fff; cursor:pointer}
  .toast{position:fixed; bottom:20px; right:20px; background:#111; color:#fff; padding:8px 12px; border-radius:8px; opacity:0.9; z-index:2000}
</style>
</head>
<body>
  <div class="version">Version 2.22</div>
  <div class="wrap">
    <header>
      <h1>Dura-Moon 公式SNSまとめ</h1>
      <nav>
        <button id="tab-follow" class="active">SNSまとめ</button>
        <button id="tab-tags">チェキタグまとめ</button>
      </nav>
    </header>

    <!-- SNSまとめ -->
    <div id="followTab" class="grid"></div>

    <!-- チェキタグまとめ -->
    <div id="tagsTab" style="display:none">
      <div class="tools-row">
        <button id="selectAll">全選択</button>
        <button id="selectNone">選択解除</button>
        <button id="copySelected">選択タグを改行でコピー</button>
        <button id="copyAll">全タグを一括コピー</button>
      </div>
      <div class="tag-list" id="tagList"></div>
    </div>

    <footer>
      ※ 一部SNSは自動フォローを許可していないため、確認画面が表示されます。
    </footer>
  </div>

<script>
const MEMBERS=[
  { display:"ドゥラ・ムーン公式", color:"#000", avatar:"image/duramoon.jpg?v=2", cheki:"#ドゥラムーン" },
  { display:"御伽 望愛", color:"#ec4899", avatar:"image/noa.jpg", cheki:"#見てるよのあち" },
  { display:"終宵 ねお", color:"#ef4444", avatar:"image/neo.jpg", cheki:"#終宵ﾉ世界ﾃﾞ共依存" },
  { display:"琥珀 トワ", color:"#f59e0b", avatar:"image/towa.jpg", cheki:"#永遠威艶狼卍會" },
  { display:"死喰 ちる", color:"#9ca3af", avatar:"image/chill.jpg", cheki:"#ちると堕ちる" },
  { display:"髏黯 メア", color:"#8b5cf6", avatar:"image/mea.jpg", cheki:"#メアの瞳の中" },
];

// ===== タブ切替 =====
document.getElementById("tab-follow").onclick=()=>switchTab("follow");
document.getElementById("tab-tags").onclick=()=>switchTab("tags");
function switchTab(tab){
  document.getElementById("followTab").style.display= tab==="follow"?"grid":"none";
  document.getElementById("tagsTab").style.display= tab==="tags"?"block":"none";
  document.getElementById("tab-follow").classList.toggle("active",tab==="follow");
  document.getElementById("tab-tags").classList.toggle("active",tab==="tags");
}

// ===== SNSカード描画 =====
function renderFollow(){
  const grid=document.getElementById("followTab"); grid.innerHTML="";
  MEMBERS.forEach(m=>{
    const card=document.createElement("div"); card.className="card"; card.style.setProperty("--accent",m.color);
    const head=document.createElement("div"); head.className="head";
    const av=document.createElement("img"); av.className="avatar"; av.src=m.avatar; av.alt=m.display;
    const names=document.createElement("div"); names.className="names";
    names.innerHTML=`<div class="display">${m.display}</div>`;
    head.appendChild(av); head.appendChild(names);

    const cheki=document.createElement("div"); cheki.className="cheki";
    if(m.cheki){
      const a=document.createElement("a"); a.href=`https://x.com/hashtag/${encodeURIComponent(m.cheki.replace("#",""))}`; a.textContent=m.cheki; a.target="_blank";
      const copy=document.createElement("button"); copy.textContent="コピー";
      copy.onclick=()=>{navigator.clipboard.writeText(m.cheki).then(()=>showToast(`${m.cheki} をコピーしました`));};
      cheki.appendChild(a); cheki.appendChild(copy);
    }

    card.appendChild(head); card.appendChild(cheki);
    grid.appendChild(card);
  });
}

// ===== タグ一覧描画 =====
function renderTags(){
  const list=document.getElementById("tagList"); list.innerHTML="";
  MEMBERS.forEach((m,idx)=>{
    if(!m.cheki) return;
    const item=document.createElement("div"); item.className="tag-item";
    item.innerHTML=`
      <label><input type="checkbox" value="${idx}"> ${m.display} ${m.cheki}</label>
      <button>コピー</button>
    `;
    const btn=item.querySelector("button");
    btn.onclick=()=>{navigator.clipboard.writeText(m.cheki).then(()=>showToast(`${m.cheki} をコピーしました`));};
    list.appendChild(item);
  });
}

// ===== 選択操作 & コピー =====
document.getElementById("selectAll").onclick=()=>{
  document.querySelectorAll("#tagList input[type='checkbox']").forEach(cb=>cb.checked=true);
};
document.getElementById("selectNone").onclick=()=>{
  document.querySelectorAll("#tagList input[type='checkbox']").forEach(cb=>cb.checked=false);
};
document.getElementById("copySelected").onclick=()=>{
  const checks=[...document.querySelectorAll("#tagList input:checked")];
  if(checks.length===0){showToast("タグが選択されていません");return;}
  const tags=checks.map(c=>MEMBERS[c.value].cheki).join("\n");  // ★ 改行区切りに変更
  navigator.clipboard.writeText(tags).then(()=>showToast("選択タグを改行区切りでコピーしました"));
};
document.getElementById("copyAll").onclick=()=>{
  const tags=MEMBERS.map(m=>m.cheki).filter(Boolean).join("\n"); // ★ 改行区切りに変更
  navigator.clipboard.writeText(tags).then(()=>showToast("全タグを改行区切りでコピーしました"));
};

// ===== トースト通知 =====
function showToast(msg){
  const t=document.createElement("div"); t.className="toast"; t.textContent=msg;
  document.body.appendChild(t);
  setTimeout(()=>t.remove(),3000);
}

// 初期表示
renderFollow(); renderTags();
</script>
</body>
</html>




